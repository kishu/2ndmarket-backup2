<h2>로그인</h2>

<ng-container *ngIf="!submitted">
  <p>
    이메일을 입력하세요.<br>
    이메일을 통해 로그인 링크를 전달합니다.
  </p>
  <form
    (ngSubmit)="submit()"
    #signInForm="ngForm">
    <div>
      <label for="email">이메일 주소</label>
      <input
        id="email"
        name="email"
        type="email"
        #emailCtl="ngModel"
        [(ngModel)]="email"
        minlength="5"
        email
        required>
    </div>
    <div *ngIf="emailCtl.invalid && (emailCtl.dirty || emailCtl.touched)">
      이메일 주소를 정확히 입력하세요.
    </div>
    <div>
      <button
        type="submit"
        [disabled]="!signInForm.form.valid">
        {{ submitting ? '전송중...' : '이메일 전송' }}
      </button>
    </div>
  </form>
</ng-container>

<ng-container *ngIf="submitted">
  <p>
    {{ email }}(으)로 로그인 메일을 보냈습니다.<br/>
    메일을 확인해 주세요.
  </p>
  <p>
    <button type="button" (click)="reset()">다시 보내기</button>
  </p>
</ng-container>
